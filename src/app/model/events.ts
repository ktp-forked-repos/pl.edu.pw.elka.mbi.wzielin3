/**
 * Abstract Event generated by simulator.
 */
import {PathElement} from './path-element';

export abstract class AppEvent {
  protected cellToString(idx: number[]): string {
    return 'Cell(' + idx[0] + ', ' + idx[1] + ', ' + idx[2] + ')';
  }

  protected symbolsToString(idx: string[]): string {
    return 'Symbols(' + idx[0] + ', ' + idx[1] + ', ' + idx[2] + ')';
  }
}

/**
 * Cell has been filled with value event.
 */
export class CellFilledEvent extends AppEvent {
  constructor(private pathElement: PathElement) {
    super();
  }

  public toString() {
    return this.cellToString(this.pathElement.currIdx) + ' filled with ' + this.pathElement.currVal;
  }
}

export class PathElementReconstructedEvent extends AppEvent {
  constructor(private pathElement: PathElement) {
    super();
  }

  public toString() {
    return this.cellToString(this.pathElement.prevIdx) + ' is previous which results in ' + this.symbolsToString(this.pathElement.symbols);
  }
}
